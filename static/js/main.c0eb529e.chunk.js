(this.webpackJsonpwowbgcalc=this.webpackJsonpwowbgcalc||[]).push([[0],{15:function(e,t,i){},16:function(e,t,i){},17:function(e,t,i){},18:function(e,t,i){},19:function(e,t,i){"use strict";i.r(t);var l=i(0),s=i(1),n=i.n(s),r=i(7),a=i.n(r),c=(i(15),i(2)),o=i(4),u=i(5),h=i(3),d=i(9),j=i(8),v=(i(16),function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(u.a)(this,e),this.color=t,this.value=i,this.faces=8,this.id=e._generateId(),this.isSelected=!1,this.isHit=!1}return Object(h.a)(e,null,[{key:"_generateId",value:function(){return e._count++,e._count-1}},{key:"compare",value:function(t,i){var l=function(t){switch(t){case e.Colors.BLUE:return 0;case e.Colors.RED:return 1;case e.Colors.GREEN:return 2;default:throw new Error("Die has no color!")}},s=l(t.color)-l(i.color);return 0===s?i.value-t.value:s}}]),Object(h.a)(e,[{key:"roll",value:function(){var e=Math.ceil(Math.random()*this.faces);this.value=e}}]),e}());v.Colors={BLUE:"blue",RED:"red",GREEN:"green"},v._count=0;var b=v;i(17);var f=function(e){var t=" "+e.die.color;return e.die.isSelected?t+=" disabled":e.die.isHit&&(t+=" glow"),e.isRolling&&(t+=" roll"),Object(l.jsx)("div",{className:"Die"+t,onClick:function(){return e.onClick()},onAnimationEnd:e.stopRolling,children:e.die.value})};i(18);var O=function(e){function t(){return Object(l.jsxs)("div",{className:"DiceList-buttons",children:[Object(l.jsx)("button",{onClick:function(){return e.addDie()},disabled:7===e.items.length,children:" + "}),Object(l.jsx)("button",{onClick:function(){return e.removeDie()},disabled:0===e.items.length,children:" - "})]})}return Object(l.jsxs)("div",{className:"DiceList ".concat(e.color||""),children:[e.addDie&&e.removeDie&&Object(l.jsx)(t,{}),Object(l.jsx)("ul",{children:e.items.map((function(t){return Object(l.jsx)("li",{children:Object(l.jsx)(f,{die:t,onClick:function(){return e.onDieClick(t)},isRolling:e.isRolling,stopRolling:e.stopRolling})},t.id)}))})]})},g=function(e){Object(d.a)(i,e);var t=Object(j.a)(i);function i(e){var l;return Object(u.a)(this,i),(l=t.call(this,e)).state={listBlue:Array(0),listRed:Array(0),listGreen:Array(0),listReroll:Array(0)},l}return Object(h.a)(i,[{key:"render",value:function(){var e=this;return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("div",{className:"App-page",children:[Object(l.jsx)("div",{className:"input-field",children:Object(l.jsxs)("label",{htmlFor:"threat",children:["Minaccia:",Object(l.jsx)("input",{id:"threat",type:"number",onChange:function(t){return e.onThreatChange(t)},min:"0",max:"8"})]})}),Object(l.jsxs)("div",{className:"App-dice",children:[[this.state.listBlue,this.state.listRed,this.state.listGreen].map((function(t,i){var s=[b.Colors.BLUE,b.Colors.RED,b.Colors.GREEN][i];return Object(l.jsx)(O,{items:t,addDie:function(){return e.addDie(t,s)},removeDie:function(){return e.removeDie(t)},onDieClick:function(t){return e.selectDie(t)},color:s,isRolling:e.state.rollCount>0,stopRolling:function(){return e.setState(Object.assign(e.state,{rollCount:0}))}})})),Object(l.jsx)("button",{className:"rollbtn",onClick:function(){return e.roll()},children:" Tira i dadi "})]}),this.state.listReroll.length>0&&Object(l.jsxs)("div",{className:"App-reroll",children:[Object(l.jsx)(O,{items:this.state.listReroll,onDieClick:function(t){return e.deselectDie(t)},isRolling:this.state.rerollCount>0,stopRolling:function(){return e.setState(Object.assign(e.state,{rerollCount:0}))}}),Object(l.jsx)("button",{className:"rollbtn",onClick:function(){return e.reroll()},children:" Nuovo Tiro "})]}),Object(l.jsxs)("p",{children:["Per aggiungere dadi al ",Object(l.jsx)("b",{children:"Nuovo Tiro"})," toccali. ",Object(l.jsx)("br",{}),"Per rimuovere dadi dal ",Object(l.jsx)("b",{children:"Nuovo Tiro"})," toccali prima di ritirarli. ",Object(l.jsx)("br",{}),"Quando ",Object(l.jsx)("b",{children:"Tiri i dadi"})," la coda del ",Object(l.jsx)("b",{children:"Nuovo Tiro"})," si svuota da sola. ",Object(l.jsx)("br",{})]})]})})}},{key:"addDie",value:function(e,t){7!==e.length?(e.push(new b(t)),this.forceUpdate()):console.log("lista piena!")}},{key:"removeDie",value:function(e){if(0!==e.length){var t=e.pop(),i=this.state.listReroll.slice().filter((function(e){return e.id!==t.id}));this.setState(i)}else console.log("lista vuota!")}},{key:"roll",value:function(){for(var e=[this.state.listBlue.slice(),this.state.listRed.slice(),this.state.listGreen.slice()],t=0,i=e;t<i.length;t++){var l,s=i[t],n=Object(o.a)(s);try{for(n.s();!(l=n.n()).done;){var r=l.value;r.isSelected=!1,r.roll()}}catch(u){n.e(u)}finally{n.f()}s.sort((function(e,t){return t.value-e.value}))}var a=Object(c.a)({},this.state);a.listBlue=e[0],a.listRed=e[1],a.listGreen=e[2],a.listReroll=Array(0),a.rollCount=e.flat().length,this.setState(a),this.checkThreat(this.state.threat)}},{key:"reroll",value:function(){var e,t=this.state.listReroll.slice(),i=Object(o.a)(t);try{for(i.s();!(e=i.n()).done;){e.value.roll()}}catch(s){i.e(s)}finally{i.f()}t.sort(b.compare);var l=Object(c.a)({},this.state);l.listReroll=t,l.rerollCount=t.length,this.setState(l),this.checkThreat(this.state.threat)}},{key:"selectDie",value:function(e){if(!e.isSelected){var t=Object.assign(new b,e),i=this.state.listReroll.slice();i.push(t),i.sort(b.compare),e.isSelected=!0;var l=Object(c.a)({},this.state);l.listReroll=i,this.setState(l)}}},{key:"deselectDie",value:function(e){for(var t=!1,i=0,l=[this.state.listBlue.slice(),this.state.listRed.slice(),this.state.listGreen.slice()];i<l.length;i++){var s,n=l[i],r=Object(o.a)(n);try{for(r.s();!(s=r.n()).done;){var a=s.value;if(a.id===e.id){if(t=!0,a.isSelected||alert("Il programmatore non \xe8 capace pt2 :'("),a.value!==e.value)return;a.isSelected=!1}}}catch(d){r.e(d)}finally{r.f()}}t||alert("Il programmatore non \xe8 capace :'(");var u=this.state.listReroll.filter((function(t){return t!==e})),h=Object(c.a)({},this.state);h.listReroll=u,this.setState(h)}},{key:"onThreatChange",value:function(e){var t=e.target.value;this.checkThreat(t);var i=Object(c.a)({},this.state);i.threat=t,this.setState(i)}},{key:"checkThreat",value:function(e){for(var t=0,i=[this.state.listBlue,this.state.listRed,this.state.listGreen,this.state.listReroll];t<i.length;t++){var l,s=i[t],n=Object(o.a)(s);try{for(n.s();!(l=n.n()).done;){var r=l.value;e>0&&r.value>e?r.isHit=!0:r.isHit=!1}}catch(a){n.e(a)}finally{n.f()}}this.forceUpdate()}}]),i}(n.a.Component),p=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,20)).then((function(t){var i=t.getCLS,l=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;i(e),l(e),s(e),n(e),r(e)}))};a.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root")),p()}},[[19,1,2]]]);
//# sourceMappingURL=main.c0eb529e.chunk.js.map