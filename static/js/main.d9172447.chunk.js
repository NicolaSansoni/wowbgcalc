(this.webpackJsonpwowbgcalc=this.webpackJsonpwowbgcalc||[]).push([[0],{15:function(t,e,i){},16:function(t,e,i){},17:function(t,e,i){},18:function(t,e,i){},19:function(t,e,i){"use strict";i.r(e);var l=i(0),n=i(1),s=i.n(n),r=i(7),a=i.n(r),o=(i(15),i(2)),c=i(4),u=i(5),h=i(3),d=i(9),f=i(8),v=(i(16),function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(u.a)(this,t),this.color=e,this.value=i,this.faces=8,this.id=t._generateId(),this.isSelected=!1,this.isHit=!1}return Object(h.a)(t,null,[{key:"_generateId",value:function(){return t._count++,t._count-1}},{key:"compare",value:function(e,i){var l=function(e){switch(e){case t.Colors.BLUE:return 0;case t.Colors.RED:return 1;case t.Colors.GREEN:return 2;default:throw new Error("Die has no color!")}},n=l(e.color)-l(i.color);return 0===n?i.value-e.value:n}}]),Object(h.a)(t,[{key:"roll",value:function(){var t=Math.ceil(Math.random()*this.faces);this.value=t}}]),t}());v.Colors={BLUE:"blue",RED:"red",GREEN:"green"},v._count=0;var j=v;i(17);var b=function(t){var e=" "+t.die.color;return t.die.isSelected?e+=" disabled":t.die.isHit&&(e+=" glow"),t.isRolling&&(e+=" roll"),Object(l.jsx)("div",{className:"Die"+e,onClick:function(){return t.onClick()},onAnimationEnd:t.stopRolling,children:t.die.value})};i(18);var g=function(t){function e(){return Object(l.jsxs)("div",{className:"DiceList-buttons",children:[Object(l.jsx)("button",{onClick:function(){return t.addDie()},disabled:7===t.items.length,children:" + "}),Object(l.jsx)("button",{onClick:function(){return t.removeDie()},disabled:0===t.items.length,children:" - "})]})}return Object(l.jsxs)("div",{className:"DiceList ".concat(t.color||""),children:[t.addDie&&t.removeDie&&Object(l.jsx)(e,{}),Object(l.jsx)("ul",{children:t.items.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)(b,{die:e,onClick:function(){return t.onDieClick(e)},isRolling:t.isRolling,stopRolling:t.stopRolling})},e.id)}))})]})},O=function(t){Object(d.a)(i,t);var e=Object(f.a)(i);function i(t){var l;return Object(u.a)(this,i),(l=e.call(this,t)).state={listBlue:Array(0),listRed:Array(0),listGreen:Array(0),listReroll:Array(0)},l}return Object(h.a)(i,[{key:"render",value:function(){var t=this;return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("div",{className:"App-page",children:[Object(l.jsx)("div",{className:"input-field",children:Object(l.jsxs)("label",{htmlFor:"threat",children:["Minaccia:",Object(l.jsx)("input",{id:"threat",type:"number",onChange:function(e){return t.onThreatChange(e)},min:"0",max:"8"})]})}),Object(l.jsxs)("div",{className:"App-dice",children:[[this.state.listBlue,this.state.listRed,this.state.listGreen].map((function(e,i){var n=[j.Colors.BLUE,j.Colors.RED,j.Colors.GREEN][i];return Object(l.jsx)(g,{items:e,addDie:function(){return t.addDie(e,n)},removeDie:function(){return t.removeDie(e)},onDieClick:function(e){return t.selectDie(e)},color:n,isRolling:t.state.rollCount>0,stopRolling:function(){return t.setState(Object.assign(t.state,{rollCount:t.state.rollCount-1}))}})})),Object(l.jsx)("button",{className:"rollbtn",onClick:function(){return t.roll()},children:" Tira i dadi "})]}),this.state.listReroll.length>0&&Object(l.jsxs)("div",{className:"App-reroll",children:[Object(l.jsx)(g,{items:this.state.listReroll,onDieClick:function(e){return t.deselectDie(e)},isRolling:this.state.rerollCount>0,stopRolling:function(){return t.setState(Object.assign(t.state,{rerollCount:t.state.rerollCount-1}))}}),Object(l.jsx)("button",{className:"rollbtn",onClick:function(){return t.reroll()},children:" Nuovo Tiro "})]})]})})}},{key:"addDie",value:function(t,e){7!==t.length?(t.push(new j(e)),this.forceUpdate()):console.log("lista piena!")}},{key:"removeDie",value:function(t){if(0!==t.length){var e=t.pop(),i=this.state.listReroll.slice().filter((function(t){return t.id!==e.id}));this.setState(i)}else console.log("lista vuota!")}},{key:"roll",value:function(){for(var t=[this.state.listBlue.slice(),this.state.listRed.slice(),this.state.listGreen.slice()],e=0,i=t;e<i.length;e++){var l,n=i[e],s=Object(c.a)(n);try{for(s.s();!(l=s.n()).done;){var r=l.value;r.isSelected=!1,r.roll()}}catch(u){s.e(u)}finally{s.f()}n.sort((function(t,e){return e.value-t.value}))}var a=Object(o.a)({},this.state);a.listBlue=t[0],a.listRed=t[1],a.listGreen=t[2],a.listReroll=Array(0),a.rollCount=t.flat().length,this.setState(a),this.checkThreat(this.state.threat)}},{key:"reroll",value:function(){var t,e=this.state.listReroll.slice(),i=Object(c.a)(e);try{for(i.s();!(t=i.n()).done;){t.value.roll()}}catch(n){i.e(n)}finally{i.f()}e.sort(j.compare);var l=Object(o.a)({},this.state);l.listReroll=e,l.rerollCount=e.length,this.setState(l),this.checkThreat(this.state.threat)}},{key:"selectDie",value:function(t){if(!t.isSelected){var e=Object.assign(new j,t),i=this.state.listReroll.slice();i.push(e),i.sort(j.compare),t.isSelected=!0;var l=Object(o.a)({},this.state);l.listReroll=i,this.setState(l)}}},{key:"deselectDie",value:function(t){for(var e=!1,i=0,l=[this.state.listBlue.slice(),this.state.listRed.slice(),this.state.listGreen.slice()];i<l.length;i++){var n,s=l[i],r=Object(c.a)(s);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.id===t.id){if(e=!0,a.isSelected||alert("Il programmatore non \xe8 capace pt2 :'("),a.value!==t.value)return;a.isSelected=!1}}}catch(d){r.e(d)}finally{r.f()}}e||alert("Il programmatore non \xe8 capace :'(");var u=this.state.listReroll.filter((function(e){return e!==t})),h=Object(o.a)({},this.state);h.listReroll=u,this.setState(h)}},{key:"onThreatChange",value:function(t){var e=t.target.value;this.checkThreat(e);var i=Object(o.a)({},this.state);i.threat=e,this.setState(i)}},{key:"checkThreat",value:function(t){for(var e=0,i=[this.state.listBlue,this.state.listRed,this.state.listGreen,this.state.listReroll];e<i.length;e++){var l,n=i[e],s=Object(c.a)(n);try{for(s.s();!(l=s.n()).done;){var r=l.value;t>0&&r.value>t?r.isHit=!0:r.isHit=!1}}catch(a){s.e(a)}finally{s.f()}}this.forceUpdate()}}]),i}(s.a.Component),p=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,20)).then((function(e){var i=e.getCLS,l=e.getFID,n=e.getFCP,s=e.getLCP,r=e.getTTFB;i(t),l(t),n(t),s(t),r(t)}))};a.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root")),p()}},[[19,1,2]]]);
//# sourceMappingURL=main.d9172447.chunk.js.map