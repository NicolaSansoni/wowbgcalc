(this.webpackJsonpwowbgcalc=this.webpackJsonpwowbgcalc||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(0),l=i(1),n=i.n(l),r=i(6),a=i.n(r),c=(i(14),i(3)),o=i(4),u=i(2),h=i(8),d=i(7),v=(i(15),function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,t),this.color=e,this.value=i,this.faces=8,this.id=t._generateId(),this.isSelected=!1,this.isHit=!1}return Object(u.a)(t,null,[{key:"_generateId",value:function(){return t._count++,t._count-1}},{key:"compare",value:function(t,e){var i=function(t){switch(t){case"blue":return 0;case"red":return 1;case"green":return 2;default:throw new Error("Die has no color!")}},s=i(t.color)-i(e.color);return 0===s?e.value-t.value:s}}]),Object(u.a)(t,[{key:"roll",value:function(){var t=Math.ceil(Math.random()*this.faces);this.value=t}}]),t}());v._count=0;var f=v;i(16);var b=function(t){var e=" "+t.die.color;return t.die.isSelected?e+=" disabled":t.die.isHit&&(e+=" glow"),Object(s.jsx)("div",{className:"Die"+e,onClick:function(){return t.onClick()},children:t.die.value})};i(17);var j=function(t){var e="";"color"in t.items&&(e+=" "+t.items.color);var i=t.items.list.map((function(e){return Object(s.jsx)("li",{children:Object(s.jsx)(b,{die:e,onClick:function(){return t.onDieClick(e)}})},e.id)}));function l(){return"color"in t.items?Object(s.jsxs)("div",{className:"DiceList-buttons",children:[Object(s.jsx)("button",{onClick:function(){return t.addDie()},disabled:7===t.items.list.length,children:" + "}),Object(s.jsx)("button",{onClick:function(){return t.removeDie()},disabled:0===t.items.list.length,children:" - "})]}):null}return Object(s.jsxs)("div",{className:"DiceList"+e,children:[Object(s.jsx)(l,{}),Object(s.jsx)("ul",{children:i})]})},g=function(t){Object(h.a)(i,t);var e=Object(d.a)(i);function i(t){var s;return Object(o.a)(this,i),(s=e.call(this,t)).state={listBlue:{list:Array(0),color:"blue"},listRed:{list:Array(0),color:"red"},listGreen:{list:Array(0),color:"green"},listReroll:{list:Array(0)}},s}return Object(u.a)(i,[{key:"render",value:function(){var t=this,e={visibility:"visible"};return 0===this.state.listReroll.list.length&&(e={visibility:"hidden"}),Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("div",{className:"App-page",children:[Object(s.jsx)("div",{className:"input-field",children:Object(s.jsxs)("label",{htmlFor:"threat",children:["Minaccia:",Object(s.jsx)("input",{id:"threat",type:"number",onChange:function(e){return t.onThreatChange(e)},min:"0",max:"8"})]})}),Object(s.jsx)(j,{items:this.state.listBlue,addDie:function(){return t.addDie(t.state.listBlue)},removeDie:function(){return t.removeDie(t.state.listBlue)},onDieClick:function(e){return t.selectDie(e)}}),Object(s.jsx)(j,{items:this.state.listRed,addDie:function(){return t.addDie(t.state.listRed)},removeDie:function(){return t.removeDie(t.state.listRed)},onDieClick:function(e){return t.selectDie(e)}}),Object(s.jsx)(j,{items:this.state.listGreen,addDie:function(){return t.addDie(t.state.listGreen)},removeDie:function(){return t.removeDie(t.state.listGreen)},onDieClick:function(e){return t.selectDie(e)}}),Object(s.jsx)("button",{id:"roll",onClick:function(){return t.roll()},children:" Tira i dadi "}),Object(s.jsx)(j,{items:this.state.listReroll,onDieClick:function(e){return t.deselectDie(e)}}),Object(s.jsx)("button",{id:"roll",onClick:function(){return t.reroll()},style:e,children:" Nuovo Tiro "})]})})}},{key:"addDie",value:function(t){if(7!==t.list.length){var e,i={list:t.list.slice(),color:t.color};switch(i.list.push(new f(i.color,0)),t.color){case"blue":e=Object.assign({},this.state,{listBlue:i});break;case"red":e=Object.assign({},this.state,{listRed:i});break;case"green":e=Object.assign({},this.state,{listGreen:i});break;default:alert("not colored lists are not implemented")}this.setState(e)}else console.log("lista piena!")}},{key:"removeDie",value:function(t){if(0!==t.list.length){var e={list:t.list.slice(),color:t.color},i=e.list.pop(),s=this.state.listReroll.list.slice().filter((function(t){return t.id!==i.id})),l=null;switch(t.color){case"blue":l=Object.assign({},this.state,{listBlue:e});break;case"red":l=Object.assign({},this.state,{listRed:e});break;case"green":l=Object.assign({},this.state,{listGreen:e});break;default:alert("not colored lists are not implemented")}l.listReroll.list=s,this.setState(l)}else console.log("lista vuota!")}},{key:"roll",value:function(){for(var t=[this.state.listBlue.list.slice(),this.state.listRed.list.slice(),this.state.listGreen.list.slice()],e=0,i=t;e<i.length;e++){var s,l=i[e],n=Object(c.a)(l);try{for(n.s();!(s=n.n()).done;){var r=s.value;r.isSelected=!1,r.roll(),this.state.threatValue>0&&r.value>this.state.threatValue?r.isHit=!0:r.isHit=!1}}catch(o){n.e(o)}finally{n.f()}l.sort((function(t,e){return e.value-t.value}))}var a=Object.assign({},this.state);a.listBlue.list=t[0],a.listRed.list=t[1],a.listGreen.list=t[2],a.listReroll.list=Array(0),this.setState(a)}},{key:"reroll",value:function(){var t,e=this.state.listReroll.list.slice(),i=Object(c.a)(e);try{for(i.s();!(t=i.n()).done;){var s=t.value;s.roll(),this.state.threatValue>0&&s.value>this.state.threatValue?s.isHit=!0:s.isHit=!1}}catch(n){i.e(n)}finally{i.f()}e.sort(f.compare);var l=Object.assign({},this.state);l.listReroll.list=e,this.setState(l)}},{key:"selectDie",value:function(t){if(!t.isSelected){var e=Object.assign(new f,t),i=this.state.listReroll.list.slice();i.push(e),i.sort(f.compare),t.isSelected=!0;var s=Object.assign({},this.state);s.listReroll.list=i,this.setState(s)}}},{key:"deselectDie",value:function(t){for(var e=!1,i=0,s=[this.state.listBlue.list.slice(),this.state.listRed.list.slice(),this.state.listGreen.list.slice()];i<s.length;i++){var l,n=s[i],r=Object(c.a)(n);try{for(r.s();!(l=r.n()).done;){var a=l.value;if(a.id===t.id){if(e=!0,a.isSelected||alert("Il programmatore non \xe8 capace pt2 :'("),a.value!==t.value)return;a.isSelected=!1}}}catch(h){r.e(h)}finally{r.f()}}e||alert("Il programmatore non \xe8 capace :'(");var o=this.state.listReroll.list.filter((function(e){return e!==t})),u=Object.assign({},this.state);u.listReroll.list=o,this.setState(u)}},{key:"onThreatChange",value:function(t){for(var e=t.target.value,i=[this.state.listBlue.list.slice(),this.state.listRed.list.slice(),this.state.listGreen.list.slice(),this.state.listReroll.list.slice()],s=0,l=i;s<l.length;s++){var n,r=l[s],a=Object(c.a)(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;e>0&&o.value>e?o.isHit=!0:o.isHit=!1}}catch(h){a.e(h)}finally{a.f()}}var u=Object.assign({},this.state);u.listBlue.list=i[0],u.listRed.list=i[1],u.listGreen.list=i[2],u.listReroll.list=i[3],u.threatValue=e,this.setState(u)}}]),i}(n.a.Component),O=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,19)).then((function(e){var i=e.getCLS,s=e.getFID,l=e.getFCP,n=e.getLCP,r=e.getTTFB;i(t),s(t),l(t),n(t),r(t)}))};a.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root")),O()}],[[18,1,2]]]);
//# sourceMappingURL=main.b980f972.chunk.js.map